<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="css/styles.min.css"/>
    <script>
        "use strict";

        window.addEventListener("DOMContentLoaded", function () {

            document.querySelector("#main-block-scroll-link").addEventListener("click", (e) => {
                e.preventDefault();    
                document.querySelector("#footer").scrollIntoView({behavior: "smooth"});
            });

            document.querySelectorAll("#slider > a").forEach((elem) => {
                elem.addEventListener("click", (e) => {
                    e.preventDefault();    
                
                    let linkStr = e.target.id.replace("slider-link-", "");

                    if(linkStr == "start") {
                        document.querySelector("#main-wrapper").scrollIntoView({behavior: "smooth"});
                    }
                    else {
                        document.querySelector("#content_" + linkStr).scrollIntoView({behavior: "smooth"});
                    }
                });
            });

            {
                const scrollingElemsAndItsSliderLinks = [
                    {elemId: "#main-wrapper", linkId: "#slider-link-start"}
                ];

                for(let i = 1; i <= 3; i++) {
                    scrollingElemsAndItsSliderLinks.push({elemId: "#content_" + i.toString().padStart(2, "0"), linkId: "#slider-link-" +  i.toString().padStart(2, "0")});
                }

                const topLimit = -100;
                const bottomLimit = 100;

                window.addEventListener('scroll', () => {
                    let box, activePair = null;

                    for(const pair of scrollingElemsAndItsSliderLinks) {
                        if((box = document.querySelector(pair.elemId).getBoundingClientRect()).top >= topLimit && box.top <= bottomLimit) {
                            activePair = pair;
                
                            break;
                        }
                    }

                    for(const pair of scrollingElemsAndItsSliderLinks) {
                        if(pair == activePair) {                
                            document.querySelector(pair.linkId).classList.add("active");
                        }
                        else {
                            document.querySelector(pair.linkId).classList.remove("active");
                        }
                    }

                    if(document.body.getBoundingClientRect().top == 0) {
                        document.querySelector("#header-wrapper").classList.remove("shifted");            
                    }
                    else {
                        document.querySelector("#header-wrapper").classList.add("shifted");
                    }
                });
            }

        });
    </script>
    <title>Document</title>
</head>
<body>
    <div class="wrapper main-wrapper" id="main-wrapper">
        <div class="cover-wrapper cover-wrapper_short">
            <div class="cover-sub-wrapper header-wrapper" id="header-wrapper">
                <header class="header" id="header">
                    <a href="#" class="header__logo">MNTN</a>
                    <nav class="header__menu header-menu">
                        <a href="#" class="header-menu__link">Equipment</a>
                        <a href="#" class="header-menu__link">About us</a>
                        <a href="#" class="header-menu__link">Blog</a>
                    </nav>       
                    <a href="#" class="header__auth">Account</a>
                </header>
            </div>
        </div>
        <div class="cover-wrapper cover-wrapper_for-slider-n-side-nav">
            <div class="cover-sub-wrapper">                
                <div class="slider-n-side-nav-wrapper">                    
                    <nav class="side-nav">
                        <a href="#" class="side-nav__link">Follow us</a>
                        <a href="#" class="side-nav__link" title="Instagram"><img src="img/ico_instagram.svg" alt="instagram"/></a>
                        <a href="#" class="side-nav__link" title="Twitter"><img src="img/ico_twitter.svg" alt="twitter"/></a>
                    </nav>
                    <nav class="slider" id="slider">
                        <a href="#start" class="slider__link active" id="slider-link-start"><span>Start</span></a>
                        <a href="#01" class="slider__link" id="slider-link-01"><span>01</span></a>
                        <a href="#02" class="slider__link" id="slider-link-02"><span>02</span></a>
                        <a href="#03" class="slider__link" id="slider-link-03"><span>03</span></a>
                    </nav>
                </div>
            </div>
        </div>
        <main class="page">
            <div class="page__main-block main-block" id="main-block">
                <div class="main-block__main">
                    <div class="main-block__overhead overhead-text">A Hiking guide</div>
                    <h1 class="main-block__title">
                        Be prepared for the<br />Mountains and beyond!
                    </h1>
                    <a href="#" class="main-block__link-move link-move-down" id="main-block-scroll-link">scroll down</a>
                </div>
            </div>            
            <section class="page__preview preview" id="content_01">
                <div class="preview__content">
                    <div class="preview__overhead overhead-text">
                        GEt Started
                    </div>
                    <h2 class="preview__title">
                        What level of  hiker are you?
                    </h2>
                    <p class="preview__text">
                        Determining what level of hiker you are can be an important tool when planning future hikes. This hiking level guide will help you plan hikes according to different hike ratings set by various websites like All Trails and Modern Hiker. What type of hiker are you – novice, moderate, advanced moderate, expert, or expert backpacker?
                    </p>
                    <a href="#" class="preview__link">read more</a>
                </div>
                <img src="img/content_preview/01.jpg" alt="What level of  hiker are you?" class="preview__img"/>
            </section>
            <section class="page__preview preview" id="content_02">
                <div class="preview__content">
                    <div class="preview__overhead overhead-text">
                        Hiking Essentials
                    </div>
                    <h2 class="preview__title">
                        Picking the right Hiking Gear!
                    </h2>
                    <p class="preview__text">
                        The nice thing about beginning hiking is that you don’t really need any special gear, you can probably get away with things you already have. Let’s start with clothing. A typical mistake hiking beginners make is wearing jeans and regular clothes, which will get heavy and chafe wif they get sweaty or wet.
                    </p>
                    <a href="#" class="preview__link">read more</a>
                </div>
                <img src="img/content_preview/02.jpg" alt="Picking the right Hiking Gear!" class="preview__img"/>
            </section>
            <section class="page__preview preview" id="content_03">
                <div class="preview__content">
                    <div class="preview__overhead overhead-text preview__overhead_long">
                        where you go is the key
                    </div>
                    <h2 class="preview__title">
                        Under<wbr class="preview__break-for-title" />stand<span class="preview__space-for-title"> </span><br class="preview__break-for-title" />Your Map & Timing
                    </h2>
                    <p class="preview__text">
                        To start, print out the hiking guide and map. If it’s raining, throw them in a Zip-Lock bag. Read over the guide, study the map, and have a good idea of what to expect. I like to know what my next landmark is as I hike. For example, I’ll read the guide and know that say, in a mile, I make a right turn at the junction...
                    </p>
                    <a href="#" class="preview__link">read more</a>
                </div>
                <img src="img/content_preview/03.jpg" alt="Understand Your Map & Timing" class="preview__img"/>
            </section>
        </main>
        <footer class="footer" id="footer">
            <div class="footer__main">
                <div class="footer__content">
                    <div class="footer__logo">
                        MNTN
                    </div>
                    <div class="footer__text">
                        Get out there & discover your next<br />slope, mountain & destination!
                    </div>
                </div>
                <div class="footer__copy">Copyright 2022 MNTN, Inc. Terms & Privacy</div>
            </div>
            <nav class="footer__menu footer-nav">
                <div class="footer-nav__title">More on The Blog</div>
                <a href="#" class="footer-nav__link">About MNTN</a>
                <a href="#" class="footer-nav__link">Contributors & Writers</a>
                <a href="#" class="footer-nav__link">Write For Us</a>
                <a href="#" class="footer-nav__link">Contact Us</a>
                <a href="#" class="footer-nav__link">Privacy Policy</a>
            </nav>
            <nav class="footer__menu footer-nav">
                <div class="footer-nav__title">More on MNTN</div>
                <a href="#" class="footer-nav__link">The Team</a>
                <a href="#" class="footer-nav__link">Jobs</a>
                <a href="#" class="footer-nav__link">Press</a>
            </nav>
        </footer>
    </div>
</body>
</html>